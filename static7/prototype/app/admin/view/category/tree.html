{notempty name="tree"}
{volist name="tree" id="list"}
<dl class="cate-item" >
    <dt class="cf" style="width: 100%;">
        <form action="{:\\think\\Url::build('renew')}" method="post">
            <div class="btn-toolbar opt-btn cf">
                <a title="编辑" href="{:\\think\\Url::build('edit',['id'=>$list['id']])}">编辑 </a> 
                <a title="{$list.status|change_status=[0=>'启用',1=>'禁用']}" href="{:\\think\\Url::build('setStatus',['value'=>abs(1-$list['status']),'ids'=>$list['id']])}" class="ajax-get">{$list.status|change_status=[0=>'启用',1=>'禁用']} </a> 
                <a title="删除" href="{:\\think\\Url::build('remove',['id'=>$list['id']])}" class="confirm ajax-get">删除 </a> 
                <a title="移动" class="move" href="{:\\think\\Url::build('move',['id'=>$list['id']])}">移动 </a> 
                <!--<a title="合并" href="{:\\think\\Url::build('merge',['from'=>$list['id']])}">合并 </a>-->
            </div>
            <div class="fold"><i></i></div>
            <div class="order"><input type="text" name="sort" class="text input-mini" value="{$list.sort}"></div>
            <div class="order">{$list['allow_publish']?'是':'否'}</div>
            <div class="name">
                <span class="tab-sign"></span>
                <input type="hidden" name="id" value="{$list.id}">
                <input type="text" name="title" class="text " value="{$list.title}">
                <a class="add-sub-cate" title="添加子分类" href="{:\\think\\Url::build('add',['pid'=>$list['id']])}">
                    <i class="icon-add"></i>
                </a>
                <span class="help-inline msg"></span>
            </div>
        </form>
    </dt>
    {notempty name="list['_']"}
    <dd>
        {:\\think\\Loader::action('tree',[$list['_']])}
    </dd>
    {/notempty}
</dl>
{/volist}
{else /}
<div class="cate-item text-center" >暂时没有分类</div>
{/notempty}