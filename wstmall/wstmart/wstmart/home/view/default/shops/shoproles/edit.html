{extend name="default/shops/base" /}
{block name="title"}角色管理-卖家中心{__block__}{/block}
{block name="css"}
<link href="__STATIC__/plugins/validator/jquery.validator.css?v={$v}" rel="stylesheet">
{/block}
{block name="content"}

<div class="wst-body"> 
<div class="wst-shop-head"><span>角色管理</span></div>
<div class="wst-clear"></div>
   <div class="wst-shop-content">
    {php}$homeMenus = WSTHomeMenus(1);{/php}
    <form name="shoprole"  id="shoprole" autocomplete="off">
        <table class="wst-form">
            <tr>
             <th width='120' align='right'>角色名称<font color='red'>*</font>：</th>
             <td>
              <input type='hidden' id='id' name='id' class="ipt"  value='{$object.id}' />
              <input type='text' id='roleName' name='roleName' class="ipt"  value='{$object.roleName}' data-rule='请输入角色名称:required;' style='width:350px;' maxLength='25' />
              <span>设定角色名称，方便区分权限类型。</span>
              </td>
            </tr>
              <tr>
              <th width='120'>操作权限：</th>
              <td>
                <div >
                 {volist name="$homeMenus['menus']" key="k1" id="menus1"}
                 <dl {$k1==count($homeMenus['menus'])?"style='border-bottom:0'":""}>
                   <dt class="dt1">
                    <label><input type="checkbox" id="{$menus1['menuId']}" class="role_{$menus1['menuId']}" value="{$menus1['menuId']}" onclick="javascript:WST.checkChks(this,'.role_{$menus1['menuId']}')"/> {$menus1["menuName"]}</label>
                   </dt>
                   <dd class="dd1">
                     {volist name="$menus1['list']" key="k2" id="menus2"}
                      <dl {$k2==count($menus1['list'])?"style='border-bottom:0'":""}>
                       <dt class="dt2">
                        <label><input type="checkbox" id="{$menus2['menuId']}" class="role_{$menus1['menuId']}" value="{$menus2['menuId']}" onclick="javascript:WST.checkChks(this,'.role_{$menus2['menuId']}')" /> {$menus2["menuName"]}</label>
                       </dt>
                       <dd class="dd2">
                          {if isset($menus2['list'])}
                         {volist name="$menus2['list']" id="menus3"}
                          <label>

                            <input type="checkbox" id="{$menus3['menuId']}" name="menuIds" class="role_{$menus1['menuId']} role_{$menus2['menuId']} ipt" value="{$menus3['menuId']}" {if isset($object['menuUrls'])}{:in_array(strtolower($menus3['menuUrl']),$object['menuUrls'])?"checked":""}{/if}/> {$menus3["menuName"]}
                          </label>
                         {/volist}
                         {/if}
                       </dd>
                     </dl>
                     
                     {/volist}
                   </dd>
                 </dl>
                 {/volist}
                 </div>
              </td>
              </tr>
            <tr>
             <th width='120'>消息接收权限：</th>
             <td>
               {volist name=":WSTDatas('SHOP_MESSAGE')" id="vo"}
               <label>
               
                <input type="checkbox" name="privilegeMsgs" class="ipt" value="{$vo['dataVal']}" {if $object['privilegeMsgs']}{:in_array($vo['dataVal'],$object['privilegeMsgs'])?"checked":""}{/if}/> {$vo["dataName"]}
                
               </label>
               {/volist}
             </td>
            </tr>
            <tr>
              <td colspan='2' style='text-align:center;padding:20px;'>
                 <a class='s-btn' href="javascript:save()">保&nbsp;存</a>&nbsp;&nbsp;
                 <a class='s-btn2' href='{:url("home/shoproles/index")}'>返&nbsp;回</a>
              </td>
            </tr>
        </table>
  </form>
   </div>
</div>
{/block}  
{block name="footer"}
	{include file="default/footer" /}
{/block}
{block name="js"}
<script type='text/javascript' src='__STYLE__/shops/shoproles/shoproles.js?v={$v}'></script>
<script type="text/javascript" src="__STATIC__/plugins/validator/jquery.validator.min.js?v={$v}"></script>
{/block}