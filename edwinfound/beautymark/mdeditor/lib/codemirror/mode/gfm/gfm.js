(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("../markdown/markdown"),require("../../addon/mode/overlay")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],c):c(CodeMirror)})(function(c){c.defineMode("gfm",function(h,f){var g=0,d={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:!0,strikethrough:!0},e;for(e in f)d[e]=f[e];d.name="markdown";c.defineMIME("gfmBase",
d);return c.overlayMode(c.getMode(h,"gfmBase"),{startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(a){return{code:a.code,codeBlock:a.codeBlock,ateSpace:a.ateSpace}},token:function(a,b){b.combineTokens=null;if(b.codeBlock){if(a.match(/^```/))return b.codeBlock=!1,null;a.skipToEnd();return null}a.sol()&&(b.code=!1);if(a.sol()&&a.match(/^```/))return a.skipToEnd(),b.codeBlock=!0,null;if("`"===a.peek()){a.next();var c=a.pos;a.eatWhile("`");c=1+a.pos-c;b.code?c===g&&(b.code=
!1):(g=c,b.code=!0);return null}if(b.code)return a.next(),null;if(a.eatSpace())return b.ateSpace=!0,null;if(a.sol()||b.ateSpace)if(b.ateSpace=!1,a.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/)||a.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return b.combineTokens=!0,"link";if(a.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/i)&&
"]("!=a.string.slice(a.start-2,a.start))return b.combineTokens=!0,"link";a.next();return null},blankLine:function(a){a.code=!1;return null}})},"markdown")});