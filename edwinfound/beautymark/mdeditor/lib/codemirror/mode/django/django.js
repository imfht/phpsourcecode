(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/overlay")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/overlay"],a):a(CodeMirror)})(function(a){a.defineMode("django:inner",function(){function a(b,c){b.eatWhile(/[^\{]/);var d=b.next();if("{"==d&&(d=b.eat(/\{|%|#/)))return c.tokenize=f(d),"tag"}function f(b){"{"==b&&(b="}");
return function(c,d){return c.next()==b&&c.eat("}")?(d.tokenize=a,"tag"):c.match(g)?"keyword":"#"==b?"comment":"string"}}var g="block endblock for endfor in true false loop none self super if endif as not and else import with endwith without context ifequal endifequal ifnotequal endifnotequal extends include load length comment endcomment empty".split(" "),g=new RegExp("^(("+g.join(")|(")+"))\\b");return{startState:function(){return{tokenize:a}},token:function(a,c){return c.tokenize(a,c)}}});a.defineMode("django",
function(e){var f=a.getMode(e,"text/html");e=a.getMode(e,"django:inner");return a.overlayMode(f,e)});a.defineMIME("text/x-django","django")});